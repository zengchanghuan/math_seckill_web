# é¢˜åº“æ•°æ®æ–‡ä»¶ç»“æ„è¯´æ˜

## ğŸ“‚ ç›®å½•ç»“æ„

```
data/
â”œâ”€â”€ å¹¿ä¸œçœ_é«˜ç­‰æ•°å­¦_çœŸé¢˜.json          # åŸå§‹åˆå¹¶æ–‡ä»¶ï¼ˆ273KBï¼Œå·²ä¿ç•™ä½œä¸ºå¤‡ä»½ï¼‰
â””â”€â”€ papers/                           # æŒ‰å¹´ä»½æ‹†åˆ†çš„æ–‡ä»¶ç›®å½•
    â”œâ”€â”€ index.json                    # ç´¢å¼•æ–‡ä»¶
    â”œâ”€â”€ å¹¿ä¸œ_é«˜æ•°_2003.json           # 2003å¹´è¯•å·
    â”œâ”€â”€ å¹¿ä¸œ_é«˜æ•°_2004.json
    â”œâ”€â”€ ...
    â””â”€â”€ å¹¿ä¸œ_é«˜æ•°_2023.json           # 2023å¹´è¯•å·
```

## ğŸ“‹ æ–‡ä»¶å‘½åè§„èŒƒ

**æ ¼å¼**: `çœä»½_é«˜æ•°_å¹´å·.json`

**ç¤ºä¾‹**:

- `å¹¿ä¸œ_é«˜æ•°_2023.json` - å¹¿ä¸œçœ2023å¹´é«˜ç­‰æ•°å­¦è¯•å·
- `å¹¿ä¸œ_é«˜æ•°_2022.json` - å¹¿ä¸œçœ2022å¹´é«˜ç­‰æ•°å­¦è¯•å·

## ğŸ“Š å•ä¸ªæ–‡ä»¶ç»“æ„

æ¯ä¸ªå¹´ä»½æ–‡ä»¶åŒ…å«ï¼š

```json
{
  "meta": {
    "province": "å¹¿ä¸œ",
    "subject": "é«˜ç­‰æ•°å­¦",
    "year": 2023,
    "exam_type": "æ™®é€šä¸“å‡æœ¬",
    "total_sections": 8,
    "total_questions": 40,
    "total_images": 1
  },
  "paper": {
    "year": 2023,
    "province": "å¹¿ä¸œ",
    "subject": "é«˜ç­‰æ•°å­¦",
    "exam_type": "æ™®é€šä¸“å‡æœ¬",
    "sections": [
      {
        "section_number": "ä¸€",
        "section_name": "å•é¡¹é€‰æ‹©é¢˜",
        "questions": [...]
      }
    ]
  }
}
```

## ğŸ“‹ ç´¢å¼•æ–‡ä»¶ (index.json)

åŒ…å«æ‰€æœ‰å¹´ä»½æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼š

```json
{
  "description": "å¹¿ä¸œä¸“å‡æœ¬é«˜ç­‰æ•°å­¦çœŸé¢˜ç´¢å¼•",
  "total_files": 21,
  "files": [
    {
      "filename": "å¹¿ä¸œ_é«˜æ•°_2023.json",
      "year": 2023,
      "province": "å¹¿ä¸œ",
      "subject": "é«˜ç­‰æ•°å­¦",
      "exam_type": "æ™®é€šä¸“å‡æœ¬",
      "total_questions": 40,
      "total_images": 1
    }
  ]
}
```

## ğŸ”§ å·¥å…·è„šæœ¬

### 1. æ‹†åˆ†è„šæœ¬

```bash
# å°†å¤§æ–‡ä»¶æ‹†åˆ†ä¸ºæŒ‰å¹´ä»½çš„å°æ–‡ä»¶
python3 scripts/split_json_by_year.py
```

**è¾“å‡º**: 21ä¸ªå¹´ä»½æ–‡ä»¶ + 1ä¸ªç´¢å¼•æ–‡ä»¶

### 2. å¯¼å…¥è„šæœ¬

```bash
# å¯¼å…¥æ‰€æœ‰å¹´ä»½
cd services/question_bank
python3 scripts/import_from_split.py

# å¯¼å…¥æŒ‡å®šå¹´ä»½
python3 scripts/import_from_split.py 2023
python3 scripts/import_from_split.py 2021 2022 2023

# å¯¼å…¥æœ€è¿‘3å¹´ï¼ˆç”¨äºå¼€å‘æµ‹è¯•ï¼‰
python3 scripts/import_from_split.py 2021 2022 2023
```

## ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯

| å¹´ä»½ | é¢˜ç›®æ•° | å›¾ç‰‡æ•° | æ–‡ä»¶å¤§å° |
| ---- | ------ | ------ | -------- |
| 2023 | 40     | 1      | 14.2 KB  |
| 2022 | 40     | 2      | 15.6 KB  |
| 2021 | 39     | 2      | 15.4 KB  |
| 2020 | 35     | 2      | 13.3 KB  |
| ...  | ...    | ...    | ...      |
| 2003 | 40     | 0      | 10.6 KB  |

**æ€»è®¡**: 21å¹´ä»½ï¼Œ760é“é¢˜ï¼Œ20å¼ å›¾ç‰‡

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æŒ‰éœ€åŠ è½½

åªå¯¼å…¥éœ€è¦çš„å¹´ä»½ï¼ŒèŠ‚çœç©ºé—´å’Œæ—¶é—´ï¼š

```bash
python3 scripts/import_from_split.py 2023
```

### åœºæ™¯2: å¢é‡æ›´æ–°

æ–°å¢2024å¹´è¯•å·æ—¶ï¼š

1. æ·»åŠ  `å¹¿ä¸œ_é«˜æ•°_2024.json`
2. æ›´æ–° `index.json`
3. è¿è¡Œå¯¼å…¥: `python3 scripts/import_from_split.py 2024`

### åœºæ™¯3: æ•°æ®è¿ç§»

- å•ä¸ªæ–‡ä»¶ä¾¿äºç‰ˆæœ¬æ§åˆ¶
- æ˜“äºåˆ†äº«ç‰¹å®šå¹´ä»½æ•°æ®
- æ”¯æŒåˆ†å¸ƒå¼å­˜å‚¨

## ğŸ“ ç»´æŠ¤è¯´æ˜

### æ·»åŠ æ–°å¹´ä»½

1. **å‡†å¤‡æ•°æ®æ–‡ä»¶**
   - å‘½åæ ¼å¼: `å¹¿ä¸œ_é«˜æ•°_YYYY.json`
   - æ”¾ç½®ç›®å½•: `data/papers/`

2. **æ›´æ–°ç´¢å¼•**

   ```bash
   python3 scripts/split_json_by_year.py
   ```

3. **å¯¼å…¥æ•°æ®åº“**
   ```bash
   cd services/question_bank
   python3 scripts/import_from_split.py YYYY
   ```

### æ•°æ®å¤‡ä»½

- **åŸå§‹åˆå¹¶æ–‡ä»¶**: `data/å¹¿ä¸œçœ_é«˜ç­‰æ•°å­¦_çœŸé¢˜.json` (ä¿ç•™ä½œä¸ºå¤‡ä»½)
- **æ‹†åˆ†æ–‡ä»¶**: `data/papers/*.json` (æ¨èä½¿ç”¨)
- **æ•°æ®åº“æ–‡ä»¶**: `services/question_bank/question_bank.db`

### ç‰ˆæœ¬æ§åˆ¶

å»ºè®®Gitç®¡ç†ç­–ç•¥ï¼š

```bash
# æäº¤æ‹†åˆ†åçš„æ–‡ä»¶
git add data/papers/*.json

# åŸå§‹åˆå¹¶æ–‡ä»¶å¯ä»¥é€‰æ‹©ä¸æäº¤ï¼ˆå¤ªå¤§ï¼‰
# æˆ–æ·»åŠ åˆ° .gitignore (å¦‚æœä¸éœ€è¦)
```

## ğŸ”— ç›¸å…³æ–‡ä»¶

- æ‹†åˆ†è„šæœ¬: `scripts/split_json_by_year.py`
- å¯¼å…¥è„šæœ¬: `services/question_bank/scripts/import_from_split.py`
- åŸå§‹è„šæœ¬: `services/question_bank/scripts/import_data.py` (å¯¼å…¥å¤§æ–‡ä»¶)

---

**åˆ›å»ºæ—¶é—´**: 2025-12-19  
**æ•°æ®ç‰ˆæœ¬**: 2003-2023 å¹¿ä¸œä¸“å‡æœ¬é«˜ç­‰æ•°å­¦çœŸé¢˜  
**æ–‡ä»¶æ ¼å¼**: JSON (UTF-8)
